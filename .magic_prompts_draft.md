# Magic Prompts for BaseProject

## Option 1: Conservative "Add to Existing Project" (Safest)

```
Clone https://github.com/AutumnsGrove/BaseProject (master branch) to /tmp/baseproject-import, analyze my current project structure [PROJECT ROOT: ./], detect tech stack from existing files (package.json/pyproject.toml/go.mod/Cargo.toml), check for existing README.md and CLAUDE.md, copy ClaudeUsage/ directory to my project (skip if exists), append missing entries from BaseProject .gitignore to my .gitignore (don't overwrite), if CLAUDE.md exists read it and merge with TEMPLATE_CLAUDE.md sections (preserve existing content, add missing workflow sections), if no CLAUDE.md exists copy TEMPLATE_CLAUDE.md as CLAUDE.md and customize with detected tech stack, offer to copy pre-commit hooks [ASK ME], create backup of modified files in ./baseproject-backup-[TIMESTAMP]/ before any changes, display summary of what was added/merged, cleanup /tmp/baseproject-import when done
```

**Pros:**
- Creates backups before any changes
- Won't overwrite existing files without asking
- Respects existing project structure
- Clean temp directory cleanup

**Cons:**
- Longer prompt
- More cautious (might be too safe for some users)

---

## Option 2: Intelligent Merge (Balanced)

```
Clone https://github.com/AutumnsGrove/BaseProject (master branch) to /tmp/bp-temp, analyze my current project at [ASK ME PROJECT ROOT PATH], detect language/tech stack, identify existing README.md/CLAUDE.md/ClaudeUsage/, copy ClaudeUsage/ guides if missing (skip existing), intelligently merge TEMPLATE_CLAUDE.md into existing CLAUDE.md: preserve user's content, add missing sections (TODO Management, Git Workflow, When to Read Guides) with comments like "## [Added from BaseProject]", append BaseProject .gitignore entries with comment "# From BaseProject template", detect commit style from git log and match it, optionally copy pre-commit hooks [ASK ME], create TODOS.md if missing with 2-3 tasks based on project analysis, summarize changes made and files modified, cleanup temp directory
```

**Pros:**
- Balanced approach between safety and automation
- Smart section merging with clear markers
- Adapts to existing project conventions
- Good for most use cases

**Cons:**
- Still fairly long
- Requires careful CLAUDE.md merging logic

---

## Option 3: Minimal "Just Add Guides" (Lightweight)

```
Clone https://github.com/AutumnsGrove/BaseProject (master branch) to /tmp, copy ClaudeUsage/ directory to my project root, append useful .gitignore entries from BaseProject template with "# BaseProject additions" comment, if no CLAUDE.md exists create from TEMPLATE_CLAUDE.md with my tech stack [ASK ME TECH STACK], if CLAUDE.md exists show me recommended sections to add (don't modify), cleanup temp clone
```

**Pros:**
- Short and simple
- Minimal changes to existing project
- Just adds the guides library
- User controls CLAUDE.md integration

**Cons:**
- Doesn't help with CLAUDE.md merging
- Less automated
- User has to manually integrate some things

---

## Option 4: Full Analysis "Smart Integration" (Most Advanced)

```
Clone https://github.com/AutumnsGrove/BaseProject (master branch) to /tmp/bp, analyze my project: read existing README.md/CLAUDE.md, scan git history for commit patterns, detect tech stack and package managers, identify project architecture (monorepo/single package/etc), read TODOS.md if exists, copy ClaudeUsage/ to my project (preserve any existing ClaudeUsage/ files, only add new guides), intelligently merge CLAUDE.md: if exists parse sections and merge BaseProject sections using markers like "<!-- BaseProject: Git Workflow -->", if new create from template with detected project details, enhance .gitignore by merging entries (preserve existing, add missing), analyze commit messages and suggest adopting BaseProject style if inconsistent, check if using branches like dev/main and suggest workflow if not, optionally setup pre-commit hooks [ASK ME], generate/update TODOS.md with project-aware tasks, create integration-summary.md report showing what was added/merged/skipped, backup modified files to ./.baseproject-backup-[TIMESTAMP]/, cleanup temp directory, display next steps
```

**Pros:**
- Extremely intelligent
- Comprehensive project analysis
- Preserves everything existing
- Creates detailed report

**Cons:**
- Very long prompt
- Might be overwhelming
- Could make too many changes
- Requires sophisticated logic

---

## Option 5: Two-Step "Analyze Then Apply" (User Control)

**Step 1 - Analysis:**
```
Clone https://github.com/AutumnsGrove/BaseProject to /tmp/bp-analysis, analyze my project [ASK ME PATH], create integration-plan.md showing: detected tech stack, existing vs missing guides in ClaudeUsage/, CLAUDE.md differences (what sections BaseProject has that I don't), .gitignore additions available, commit style comparison, recommended workflow improvements, ask me to approve plan before proceeding
```

**Step 2 - Application:**
```
Following approved integration-plan.md: copy selected ClaudeUsage/ guides, merge CLAUDE.md sections with markers, update .gitignore with approved entries, setup requested git hooks, create TODOS.md if needed, backup all modified files, cleanup temp directory, display integration summary
```

**Pros:**
- User has full control
- Can review before changes
- Two-phase approach is safer
- Clear what will happen

**Cons:**
- Requires two prompts
- More user interaction needed
- Slower process

---

## Recommended Approach: Hybrid (Option 2.5)

```
Clone https://github.com/AutumnsGrove/BaseProject (master branch) to /tmp, analyze current project at ./, detect tech stack from package files, read existing CLAUDE.md if present, copy ClaudeUsage/ directory (skip files that exist), merge CLAUDE.md by: if exists append recommended sections with "## [From BaseProject Template]" headers and let me review, if missing create from TEMPLATE_CLAUDE.md with detected tech stack, append missing .gitignore entries with "# BaseProject template additions" comment, show me existing vs BaseProject commit message styles and ask if I want to adopt BaseProject style [ASK ME], optionally copy pre-commit hooks [ASK ME], create TODOS.md if missing with 3 initial tasks based on project, create .baseproject-integration.md summary of changes, cleanup temp directory
```

**Why this is best:**
- Balances automation with safety
- Clear markers for added content ("From BaseProject Template")
- Creates summary document
- Asks for permission on major style changes
- Not too long but comprehensive
- User can review merged content

---

## Key Considerations for Implementation

### CLAUDE.md Merging Strategy

**Safest approach:**
1. If CLAUDE.md exists, read it entirely
2. Identify missing sections from TEMPLATE_CLAUDE.md
3. Append missing sections with clear markers:
   ```markdown
   ---

   ## [Added from BaseProject Template]

   ### TODO Management
   [content from template]
   ```
4. Create `.baseproject-merge-notes.md` explaining what was added
5. User can manually reorganize later

**Alternative approach:**
1. Parse existing CLAUDE.md for section headers
2. Insert BaseProject sections in appropriate locations
3. Use HTML comments to mark additions:
   ```markdown
   <!-- BEGIN: BaseProject Addition - Git Workflow -->
   ### Git Workflow Essentials
   [content]
   <!-- END: BaseProject Addition -->
   ```

### File Conflict Handling

**Priority order:**
1. **Never overwrite:** README.md, existing documentation
2. **Merge intelligently:** CLAUDE.md, .gitignore
3. **Copy if missing:** ClaudeUsage/, TODOS.md, pre-commit hooks
4. **Always backup:** Any file that will be modified

### Detection Logic

```bash
# Tech stack detection
- Check for package.json â†’ Node/JS/TS project
- Check for pyproject.toml or requirements.txt â†’ Python
- Check for go.mod â†’ Go project
- Check for Cargo.toml â†’ Rust project
- Check for composer.json â†’ PHP project

# Project structure
- Look for src/, lib/, app/ directories
- Check for tests/, __tests__/, test/ directories
- Identify if monorepo (workspaces, lerna.json, etc.)

# Git conventions
- Run git log --oneline -20 and analyze patterns
- Check if using conventional commits
- Identify branch strategy (git branch -a)
```

---

## Future Enhancement Ideas

1. **Language-specific filtering:**
   - Only copy relevant ClaudeUsage guides (e.g., Python project doesn't need Go guides)
   - Detected automatically from project

2. **Interactive mode:**
   - Show each change before applying
   - User can approve/skip each modification

3. **Rollback capability:**
   - `git stash` before changes
   - Easy to revert if user doesn't like integration

4. **Update existing integrations:**
   - Detect if BaseProject was already integrated
   - Offer to update guides to latest version
   - Only update ClaudeUsage/ guides, preserve custom CLAUDE.md

---

## Recommendation for README.md

I suggest adding **both** prompts:

1. **"New Project Setup"** (current magic prompt)
2. **"Add to Existing Project"** (Option 2.5 above)

Structure in README:
```markdown
## ðŸš€ Quick Start

### Option 1: New Project Setup
[Current magic prompt]

### Option 2: Add to Existing Project
[New integration prompt]

This option is for projects that are already in progress and have existing
documentation, code, and git history. BaseProject will be intelligently
integrated without overwriting your existing work.
```

---

## Testing Checklist

Before releasing this feature, test with:
- [ ] Empty project (similar to new project)
- [ ] Project with existing README.md only
- [ ] Project with existing CLAUDE.md only
- [ ] Project with both README.md and CLAUDE.md
- [ ] Project with existing ClaudeUsage/ directory
- [ ] Project with completely different structure
- [ ] Monorepo project
- [ ] Project with no git history
- [ ] Project with well-established git conventions
